# 数据的更新

## 4-1 数据的插入（INSERT语句的使用方法）
数据的更新处理大体可以分为插入（INSERT）、删除（DELETE）和更新（UPDATE）三类。

### 插入默认值

-- DEFAULT 约束, 创建表时来设定默认值
DROP TABLE DefaultProduct;
CREATE TABLE DefaultProduct(
	product_id CHAR(4) NOT NULL,
	sale_price INTEGER DEFAULT 0, -- 销售单值的默认值设为 0
	PRIMARY KEY (product_id)
);

-- 通过显式方法插入默认值
INSERT INTO DefaultProduct VALUES(1, DEFAULT);


## 从其他表中复制数据
-- 将商品表中的数据复制到商品复制表中
-- insert...select...from
```
INSERT INTO 
ProductCopy ( product_id, product_name, product_type, sale_price, purchase_price, regist_date ) 
SELECT
product_id, product_name, product_type, sale_price, purchase_price,regist_date 
FROM Product;
```

## 多种多样的SELECT语句
SELECT product_type, count(*) FROM ProductCopy GROUP BY product_type; -- 分组,为聚合结果指定条件

SELECT * FROM ProductCopy ORDER BY regist_date ASC; -- 对查询结果进行排序

-- 使用包含 GROUP BY 子句的 SELECT 语句进行插入
-- 根据商品种类进行汇总的表 

DROP TABLE productType;
CREATE TABLE product_type(
	product_type VARCHAR(32) NOT NULL,
	sum_sale_price INTEGER,
	sum_purchase_price INTEGER,
	primary key (product_type)
);

-- 插入其他表中数据合计值的INSERT ... SELECT语句

INSERT INTO product_type(product_type, sum_sale_price, sum_purchase_price )
SELECT product_type, sum(sale_price), sum(purchase_price) FROM product
GROUP BY product_type;
SELECT * FROM product_type;


## 4-2 数据的删除
- DROP TABLE 语句可以将表完全删除
- DELETE 语句会留下表（容器），而删除表中的全部数据
    - delete FROM defaultproduct
    
 -- 指定删除对象的DELETE语句（搜索型DELETE）
 
指定了删除对象的 DELETE 语句称为搜索型
DELETE, DELETE 语句中不能使用 GROUP BY、HAVING 和 ORDER BY 三类子句，而只能使用WHERE 子句。

DELETE FROM product WHERE sale_price >= 4000;
