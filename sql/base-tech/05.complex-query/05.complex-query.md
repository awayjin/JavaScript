## 第5章　复杂查询
- 视图
- 子查询
- 关联子查询

但是使用视图时并不会将数据保存到存储设备之中，而且也不会将数据保存到其他任何地方。实际上视图保存的是 SELECT 语句

### 5.1 视图的优点

第一点是由于视图无需保存数据，因此可以节省存储设备的容量。

第二个优点就是可以将频繁使用的 SELECT 语句保存成视图，这样就不用每次都重新书写了。

视图中的数据会随着原表的变化自动更新。

### 创建视图的方法

CREATE VIEW 视图名称(<视图列名1>, <视图列名2>, ……)
AS
<SELECT语句>

视图的限制① ——定义视图时不能使用ORDER BY子句(mysql 可以使用.)

视图的限制② ——对视图进行更新

能够更新视图的情况:
不是通过汇总得到的视图就可以进行更新。

### 5.2 子查询
- 一言以蔽之，子查询就是一次性视图（SELECT语句）。与视图不同，子查
  询在SELECT语句执行完毕之后就会消失。
- 由于子查询需要命名，因此需要根据处理内容来指定恰当的名称。
- 标量子查询就是只能返回一行一列的子查询。

#### 子查询和视图

视图并不是用来保存数据的，而是通过保存读取数据的 SELECT 语句的方法来为用户提供便利。

子查询的特点概括起来就是一张一次性视图.

子查询就是将用来定义视图的SELECT语句直接用于FROM子句当中.

子查询作为内层查询会首先执行。
```mysql-sql
select * from 
(select product_type, count(*) from product GROUP BY product_type )
as prod; -- as 不是必须的
```

- 增加子查询的层数
