<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script>
  function mergeSort(array) {
    if (array.length > 1) {
      let { length } = array
      let middle = Math.floor(length / 2)
      let left = mergeSort(array.slice(0, middle))
      let right = mergeSort(array.slice(middle, length))
      array = merge(left, right)
    }
    return array
  }

  function merge(left, right) {
    console.log('concat:', left.concat(right), ', left:', left, ', right:', right)
    let i = 0
    let j = 0
    let result = []
    while (i < left.length && j < right.length) {
      result.push(
        left[i] < right[j] ? left[i++] : right[j++]
      )
    }
    console.log('result:', result)
    return result.concat(
      i < left.length ? left.slice(i) : right.slice(j)
    )
  }

  console.log(mergeSort([5, 4, 3, 2, 1]))
</script>


<script type="module">
  import {
    bubbleSort,
    selectionSort,
    insertionSort,
    mergeSort,
    quickSort
  } from './sort.js'

  // 冒泡排序
  console.log('冒泡排序:', bubbleSort([5, 4, 2, 1, 3]))
  // 选择排序
  console.log('选择排序:', selectionSort([5, 4, 3, 2, 1]))
  // 插入排序
  console.log('插入排序:', insertionSort([5, 4, 2, 3, 1]))
  // 归并排序
  console.log('归并排序:', mergeSort([5, 4, 3, 2, 1]))
  // 归并排序
  console.log('快速排序:', quickSort([5, 4, 3, 2, 1]))
</script>

</body>
</html>