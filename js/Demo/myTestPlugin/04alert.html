<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>111</title>
    <link type="text/css" rel="stylesheet" href="./skins/green.css">
    <style type="text/css">
        body{ margin: 0; padding: 0;}
    </style>
</head>
<body>

<script>
/*
* 模仿系统弹出框
* */

;(function(window, undefined){

    var $ = window.jan = function(selector, content){
        return new $.fn.constructor();
    };

    $.fn = $.prototype = {
        constructor: function(){

        }
    }


    /*模仿jQuery的。作用就是，让$.fn.constructor new出来的实例，
    拥有$.fn中的方法。  本质上，$.fn.constructor继承了$*/
     $.fn.constructor.prototype = $.fn;



})(window);

;(function($, widnow, undefined){
    var janDialog = function(config){

        var api,
                defaults = janDialog.defaults,
                config = config || {};


        return new janDialog.fn._create(config);
    };

    janDialog.fn = janDialog.prototype = {
        _create: function(config){
            var dom;
            this.config = config;

            this.dom = dom = this.dom || this._innerHTML(config);

            return this;
        },

        _innerHTML: function(){

            var body = document.body;

            var wrap = document.createElement("div");

            wrap.style.cssText = "position:absolute; left:0; top:0";

            wrap.innerHTML = janDialog._templates;

            body.insertBefore(wrap, body.firstChild);

            return wrap;

        }
    };

    janDialog.fn._create.prototype = janDialog.fn;

    janDialog.defaults = {
        content: function(){


        }

    }

    janDialog._templates =
            '<div class="d-outer" role="dialog" tabindex="-1" aria-labelledby="d-title-{id}" aria-describedby="d-content-{id}">'
                    +	'<table class="d-border">'
                    +		'<tbody>'
                    +			'<tr>'
                    +				'<td class="d-nw"></td>'
                    +				'<td class="d-n"></td>'
                    +				'<td class="d-ne"></td>'
                    +			'</tr>'
                    +			'<tr>'
                    +				'<td class="d-w"></td>'
                    +				'<td class="d-c">'
                    +					'<div class="d-inner">'
                    +					'<table class="d-dialog">'
                    +						'<tbody>'
                    +							'<tr>'
                    +								'<td class="d-header">'
                    +									'<div class="d-titleBar">'
                    +										'<div id="d-title-{id}" class="d-title"></div>'
                    +										'<a class="d-close" href="javascript:;">×</a>'
                    +									'</div>'
                    +								'</td>'
                    +							'</tr>'
                    +							'<tr>'
                    +								'<td class="d-main">'
                    +									'<div id="d-content-{id}" class="d-content">1111</div>'
                    +								'</td>'
                    +							'</tr>'
                    +							'<tr>'
                    +								'<td class="d-footer">'
                    +									'<div class="d-buttons"></div>'
                    +								'</td>'
                    +							'</tr>'
                    +						'</tbody>'
                    +					'</table>'
                    +					'</div>'
                    +				'</td>'
                    +				'<td class="d-e"></td>'
                    +			'</tr>'
                    +			'<tr>'
                    +				'<td class="d-sw"></td>'
                    +				'<td class="d-s"></td>'
                    +				'<td class="d-se"></td>'
                    +			'</tr>'
                    +		'</tbody>'
                    +	'</table>'
                    +'</div>';

    this.janDialog = $.dialog = $.janDialog = janDialog;

})(this.jan || this.jQuery, this);

</script>


<script>
    jan.dialog();
//    jan.dialog('dialog test', function(){
//        alert(11111);q
//    });
</script>

</body>
</html>