<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>jan</title>
    <!--<script src="../js/jquery-1.8.2.js"></script>-->

</head>
<body>

<script>



        //alert(new (new ActiveXObject("Msxml2.XMLHTTP.6.0")));




var JAN  =  function(){
   // return new JAN.fn.init();
};
JAN.fn = JAN.prototype = {
    constructor: JAN,

    init: function(){
       return this;
    }
};
//JAN.fn.init.prototype = JAN.fn;



JAN.extend = JAN.fn.extend = function(){
    var name, options,
            target = arguments[0] || {},            // 常见用法 jQuery.extend( obj1, obj2 )，此时，target为arguments[0]
            i = 0,
            length = arguments.length;

    target = this;

    for(;i< length; i++){
        options = arguments[0];
        for(name in options){
            target[name] = options[name];
        }
    }

    return target;
};




        ;(function(){

            function ajaxExtend(target, src){
                var deep, key,
                        flatOptions = JAN.ajaxSettings.flatOptions || {};

                for ( key in src ) {
                    if ( src[ key ] !== undefined ) {
                        ( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
                    }
                }

                if ( deep ) {
                    JAN.extend( true, target, deep );
                }

                return target;
            }

            JAN.extend({
                ajaxSettings: {
                    type: "get",
                    url: '',
                    async: true,
                    xhr: function(){
                        return new XHR();
                    },
                    flatOptions: {
                        url: true,
                        context: true
                    }
                },

                ajaxSetup: function(target, settings){
//                   return ajaxExtend(ajaxExtend(JAN.ajaxSettings, options), target);

                    return settings ?
                            ajaxExtend(ajaxExtend(target, JAN.ajaxSettings), settings):
                            ajaxExtend(JAN.ajaxSettings, target)


                    var key;

                    for(key in JAN.ajaxSettings){
                        if(settings[key] !== undefined){
                           JAN.ajaxSettings[key] = settings[key];
                            target = JAN.ajaxSettings;
                        }
                    }

                    return target;

                },

                ajax:  function(url, options){


                    if(typeof url === 'object'){
                        options = url;
                        url = undefined;
                    }

                    //强制options是一个对象
                    options = options || {};

                    var i,
                         //创建最终的参数options对象
                        s = JAN.ajaxSetup({}, options);

                    console.log(s);


                }

            });




            var XHR = window.XMLHttpRequest || function(){
                try{ return new ActiveXObject("Msxml2.XMLHTTP.6.0") } catch(e1){};
                try{ return new ActiveXObject("Msxml2.XMLHTTP.3.0") } catch(e2){};
                try{ return new ActiveXObject("Msxml2.XMLHTTP") } catch(e3){};
                throw new Error("This Browser does not support XMLHttpRequest!!!");
            };




/*            var xhr = new XHR();
            xhr.onreadystatechange = function(){
//                alert(this.readyState);
                //ie6 失效
                if(this.readyState == 4){
                    if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304){
//                        alert(xhr.status + ", "+xhr.responseText);
                    } else {
//                        alert("Request was unsuccessful: " + xhr.status);
                    }
                }
            };

            xhr.open("get", "06AJAX.php", true);
            xhr.send(null);*/

            JAN.ajax({"url": "asdfs", "type": "post"});
            JAN.ajax();


        })();





</script>
	2323
</body>
</html>