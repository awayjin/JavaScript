## 框架设计和工程化

- 做出一个 Node.js 业务并不难
- 把 Node.js 推广到所有业务线
  - 人员培训
  - 业务管理
  
- 为了建成大厦，我们需要更好的
  - 架构设计.
    - 底层更稳固, -> 程序不容易崩溃
    - 更容易往上搭 -> 扩展新功能更方便
    
  - 工程工具. 
    - 更加易于施工 -> 学习上手成本低
    - 保证施工安全 -> 不会因为操作失误搞挂程序
    
 
- 给工程师使用的产品
  - 开发体验
    - 可维护性
    - 可靠性
    - 易用性
    
## 设计模式

写出一个可重用软件的准则.模式只是达到目的的手段

单例模式
- 原型模式
- 工厂模式
- 抽象工厂模式
- 建造者模式
- 代理模式
- 适配器模式
- 桥接模式
- 装饰模式
- 外观模式
- 享元模式
- 组合模式
- 模板方法模式
- 策略模式
- 命令模式
- 职责链模式
- 状态模式
- 观察者模式
- 中介者模式
- 迭代器模式
- 访问者模式
- 备忘录模式
- 解释器模式

观察者模式:
- EventEmitter
- DOM addEventListener

外观模式:
- jQuery


设计模式六大法则: 
- 单一职责原则
- 里氏替换原则
- 依赖倒转原则
- 接口隔离
- 最小知晓原则
- 开闭原则

单一职责原则: 
- 命令行程序, HTTP程序共同调用石头剪刀布
- 石头剪刀布(重用)
- 微服务

开闭原则： 
- css-loader ts-loader
- webpack
- 乐高积木
  - 每一个模块都有明确的功能
  - 新增功能只需要增加模块，不需要修改原有部分
  
  
学习设计模式最主要的不是学习模式，而是理解设计模式的原则，
理解要怎么样才能做出架构优秀的程序


## serverless

主要三点：
- 细节
    - Vue/React 屏蔽 DOM 细节
    - Node.js 屏蔽操作进程细节，通过事件循环来帮你管理
- 下沉
    - 把通用、复杂的东西下沉 -> 实现渐进式
- 分离
    - 把业务代码和框架库代码分离

- 云函数
  - 不用再因为运维、架构的事情操心
    - 缩短业务上线周期
    - 减少出错的概率
    - 业务开发的上手难度更低
  - 渐进式

- serverless => 屏蔽服务器细节

- vue/react => domless
  - 屏蔽 DOM 操作细节
    - 缩短功能上线周期
    - 减少出错可能性
    - 开发前端业务的上手难度更低
    
- severless 
    - Node.js => threadless
    - JavaScript => typeless
    - Java/C# => 内存管理 less
    - 可视化开发 => 编程 less
    - ...
    - 通过屏蔽细节（less），让业务开发更容易。
    - 把能在多个业务复用的东西下沉，屏蔽细节。
    
- 好的框架
  - 把复杂的，通用的东西下沉（less化） -> 实现渐进式   
  - 框架代码和业务代码分离 

- 我们要做的事情
  - Node.js BFF 层应用到大部分的业务
    - 快速扩展 Node.js 业务页面
    - 新人能不理会底层细节快速上手
    
## 50 | 服务端框架搭建：koaless
   
## 51 | 服务端框架搭建：屏蔽请求细节


### 


因为同源策略本来就是浏览器的机制。一个浏览器要运行的脚本来自各个网站的开发者，还存储着用户在各个网站的数据，所以需要同源策略管理。但node要面对的问题相对要没那么复杂，所以就不需要这种策略管理。