<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script type="text/javascript" src="jquery-1.5.1.js"></script>
</head>

<body>

<style>
  .remove { margin:3px; width:40px; height:40px;
        position:absolute; left:0px; top:30px; 
        background:green;  }
  .remove.newcolor { background:blue; }
</style>


  <button id="start">Start</button>
  <button id="stop">Stop</button>
  <div class="remove">22</div>

<script type="text/javascript">

/*

 queue: 显示或操作在匹配元素上执行的函数队列
 deque: 从队列最前端移除一个队列函数，并执行他。

 */
 

//2.0 通过设定队列数组来删除动画队列
$("#stop").click(function(){
	//$(".remove").queue("fx", []);
	$(".remove").stop();
});

$("#start").click(function(){
	$(".remove").show();
	var remove = document.getElementsByClassName("remove");
	$(remove).animate({left: "+=200"}, 1000);
	
	$(remove).queue(function(){
		$(this).addClass("newcolor");
		//$(this).dequeue();	
	});
	
	$(remove).animate({left: "-=200"}, 1000);	
}); 

</script>



</body>
</html>