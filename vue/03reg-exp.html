<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Title</title>
</head>
<body>


<script type="text/javascript">
  // 姓名：{{user.name}}，年龄：{{user.age}}
  var pendingText = "姓名：{{user.name}} {{ d }}，年龄：{{user.age}}"
  function parseText(pendingText){
    var collection=[];
    var searchTxt="";
    var targetTxt = "";
    var stringLength=0,lastIndex=0,curIndex=0;
    var reg =/\{\{(.+?)\}\}/g;

    if(!reg.test(pendingText)){
      throw new Error("未匹配");
    }else{
      reg.lastIndex=0;
      while( tempR = reg.exec(pendingText))
      {
        curIndex = reg.lastIndex;
        searchTxt=tempR[0];
        stringLength=searchTxt.length;
        collection.push(pendingText.slice(lastIndex,curIndex-stringLength));
        targetTxt=tempR[1];
        collection.push(targetTxt);
        lastIndex=curIndex;
      }
    }
    console.log(collection);
    return collection
  }
  parseText(pendingText);
</script>


</body>
</html>