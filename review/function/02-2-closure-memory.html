<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Title</title>
</head>
<body>
<script>
  function foo (message) {
    function closure () {
      console.log(message)
    }
    return closure
  }
  let bar = foo('hello closure.')
  bar()
</script>

<p>不断单击【click】按钮</p>
<button id="click_button">Click</button>
<script>
  function f() {
    var str = Array(10000).join('#');

    var foo = {
      name: 'foo'
    }

    // 未用到
    function unused() {
      var message = 'it is only a test message';
      str = 'unused: ' + str; // 不能被 GC  回收
    }

    function getData() {
      return 'data';
    }

    return getData;
  }

  var list = [];

  document.querySelector('#click_button').addEventListener('click', function () {
    list.push(f());
  }, false);
</script>

</body>
</html>