<<<<<<< HEAD
=======
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<script>
var EventUtil = {
	addHandler: function(element, type, handler){
		if(element.addEventListener){
			element.addEventListener(type, handler, false);
		}else if(element.attacEvent){
			element.attachEvent('on'+type, handler)
		}else{
			element['on'+type] = handler;
		}
	}
};
</script>
<form name="select_script">
	<select name='select_menu' size='13'>
		<option value='china'>Moutain</option>
		<option value='australia' selected>stream</option>
	</select>
	
	<select name='select_list' size="10" multiple rows='40' cols='30' width='style:90px;'>
		<option value='china'>Moutain</option>
		<option value='australia'>stream1</option>
		<option value='australia2' selected>stream2</option>
		<option value='australia3'>stream3</option>
	</select>
</form>
<script>
var selmenu = document.forms[0].elements['select_menu'];
//selmenu.add("<option value='12'>11</option>", selmenu.options[length-1]);
var menuIndex = selmenu.options[1].index;
var optionValue = selmenu.options[0].value;
var optiontText = selmenu.options[0].text;
<!-- alert(menuIndex+"---"+optionValue+"--"+optiontText); -->
selmenu.onchange = function(){
	//alert(this.selectedIndex); //选中项的索引
};

//number 1.0 choose item
var selectMenu = document.forms['select_script'].elements['select_menu'];

EventUtil.addHandler(selectMenu, 'change', function(){
	var index = selectMenu.selectedIndex;
	alert(index+'--'+ selectMenu[index].text + '---'+selectMenu[index].value)
});


var selectList = document.forms['select_script'].elements['select_list'];
function getOptionsSelected(selectbox){
	var result = [];
	var option = null;
	
	for(var i=0; i<selectbox.options.length; i++){
		option = selectbox.options[i];
		if(option.selected){
			result.push(option);
		}
	}
	return result;
}
var selectedOptions = getOptionsSelected(selectList);

//alert(selectedOptions[0].text)

//2.0添加选项
var addSelectMenu = document.forms['select_script'].elements['select_list'];
//DOM方法添加新选项
var newOption = document.createElement("option");
newOption.appendChild(document.createTextNode("Option text"));
newOption.setAttribute("value", "Option value");
addSelectMenu.appendChild(newOption);

//2.1 Option构造函数
var newOption = new Option("Option text2", "Option value2");
//addSelectMenu.appendChild(newOption, undefined);

var newOption = new Option("Option text3", "Option value3");
addSelectMenu.add(newOption, undefined);

//3.0 移除选项
var selectBox = addSelectMenu = document.forms['select_script'].elements['select_list'];
selectBox.remove(0);//移除第一个

//4.0 移动和重排选项
var selectBox1 = document.forms[0].elements['select_menu'];
var selectBox2 = document.forms['select_script'].elements['select_list'];
selectBox1.appendChild(selectBox2.options[1]);

EventUtil.addHandler(selectBox1, "click", function(){
	var index = selectBox1.selectedIndex;
	selectBox2.appendChild(selectBox1.options[index]);
});
EventUtil.addHandler(selectBox2, "dblclick", function(){
	var index = selectBox2.selectedIndex;
	selectBox1.appendChild(selectBox2.options[index]);
});
</script>
</body>
</html>
>>>>>>> 707646eb6d1de71aa3298d4aa50c758145faa798
